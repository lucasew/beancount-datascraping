[tools]
python = "3.12.2"
rclone = "1.73.1"
"github:lucasew/workspaced" = "0.1.5"

[tasks]
install = { depends = ["install:*"], description = "Install dependencies" }
"install:tools" = { run = "mise install", description = "Install mise tools" }

lint = { run = "workspaced codebase lint", description = "Lint codebase" }
fmt = { run = "workspaced codebase format", description = "Format codebase" }

test = { depends = ["test:*"], description = "Run tests" }
"test:dummy" = { run = "echo 'No tests found'", description = "Dummy test" }

codegen = { depends = ["codegen:*"], description = "Update generated code" }
"codegen:run" = { run = "./scripts/codegen.sh", description = "Run codegen script" }

ci = { depends = ["lint", "test"], description = "Run CI pipeline" }
verify = { depends = ["ci"], description = "Verify pipeline" }
